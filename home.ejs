<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="generator" content="Hugo 0.84.0">
    <title>READEFINE</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css?family=Abril+Fatface|Poppins:300" rel="stylesheet">

<!-- Bootstrap core CSS. This section currently contains pre-loaded text from Project Gutenberg.-->
<link href="../assets/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script> 
      var pride = "It is a truth universally acknowledged, that a single man in possession of a good fortune, must be in want of a wife. However little known the feelings or views of such a man may be on his first entering a neighbourhood, this truth is so well fixed in the minds of the surrounding families, that he is considered the rightful property of some one or other of their daughters."

      var gatsby = "In my younger and more vulnerable years my father gave me some advice that I’ve been turning over in my mind ever since. “Whenever you feel like criticizing anyone,” he told me, “just remember that all the people in this world haven’t had the advantages that you’ve had.”"

      var sherlock = "To Sherlock Holmes she is always the woman. I have seldom heard him mention her under any other name. I have seldom heard him mention her under any other name. In his eyes she eclipses and predominates the whole of her sex. It was not that he felt any emotion akin to love for Irene Adler. All emotions, and that one particularly, were abhorrent to his cold, precise but admirably balanced mind. "

      var frank = "To Mrs. Saville, England. St. Petersburgh, You will rejoice to hear that no disaster has accompanied the commencement of an enterprise which you have regarded with such evil forebodings. I arrived here yesterday, and my first task is to assure my dear sister of my welfare and increasing confidence in the success of my undertaking."

      var alice = "Alice was beginning to get very tired of sitting by her sister on the bank, and of having nothing to do: once or twice she had peeped into the book her sister was reading, but it had no pictures or conversations in it, “and what is the use of a book,” thought Alice “without pictures or conversations?\"So she was considering in her own mind (as well as she could, for the hot day made her feel very sleepy and stupid), whether the pleasure of making a daisy-chain would be worth the trouble of getting up and picking the daisies, when suddenly a White Rabbit with pink eyes ran close by her."

      var moby = "Call me Ishmael. Some years ago—never mind how long precisely—having little or no money in my purse, and nothing particular to interest me on shore, I thought I would sail about a little and see the watery part of the world. It is a way I have of driving off the spleen and regulating the circulation."

      var tale = "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness, it was the epoch of belief, it was the epoch of incredulity, it was the season of Light, it was the season of Darkness, it was the spring of hope, it was the winter of despair, we had everything before us, we had nothing before us, we were all going direct to Heaven, we were all going direct the other way—in short, the period was so far like the present period, that some of its noisiest authorities insisted on its being received, for good or for evil, in the superlative degree of comparison only."

      var dorian = "The artist is the creator of beautiful things. To reveal art and conceal the artist is art’s aim. The critic is he who can translate into another manner or a new material his impression of beautiful things. The highest as the lowest form of criticism is a mode of autobiography. Those who find ugly meanings in beautiful things are corrupt without being charming. This is a fault. Those who find beautiful meanings in beautiful things are the cultivated. For these there is hope. They are the elect to whom beautiful things mean only beauty. There is no such thing as a moral or an immoral book. Books are well written, or badly written. That is all."

      var war = "“Well, Prince, so Genoa and Lucca are now just family estates of the Buonapartes. But I warn you, if you don’t tell me that this means war, if you still try to defend the infamies and horrors perpetrated by that Antichrist—I really believe he is Antichrist—I will have nothing more to do with you and you are no longer my friend, no longer my ‘faithful slave,’ as you call yourself! But how do you do? I see I have frightened you—sit down and tell me all the news.”"

      var dracula = "3 May. Bistritz.—Left Munich at 8:35 P.M., on 1st May, arriving at Vienna early next morning; should have arrived at 6:46, but train was an hour late. Buda-Pesth seems a wonderful place, from the glimpse which I got of it from the train and the little I could walk through the streets. I feared to go very far from the station, as we had arrived late and would start as near the correct time as possible. The impression I had was that we were leaving the West and entering the East; the most western of splendid bridges over the Danube, which is here of noble width and depth, took us among the traditions of Turkish rule."

  /*this fills the text area*/
  function fillTextBox()
  {
    var selection = document.getElementById("books").value;
    if(selection=="Pride and Prejudice"){
      document.getElementById("gutenberg").innerHTML = pride;
    }
    else if(selection=="Alice in Wonderland"){
      document.getElementById("gutenberg").innerHTML = alice;
    }
    else if(selection=="The Great Gatsby"){
      document.getElementById("gutenberg").innerHTML = gatsby;
    }
    else if(selection=="Adventures of Sherlock Holmes"){
      document.getElementById("gutenberg").innerHTML = sherlock;
    }
    else if(selection=="Frankenstein"){
      document.getElementById("gutenberg").innerHTML = frank;
    }
    else if(selection=="Moby Dick"){
      document.getElementById("gutenberg").innerHTML = moby;
    }
    else if(selection=="A Tale of Two Cities"){
      document.getElementById("gutenberg").innerHTML = tale;
    }
    else if(selection=="The Picture of Dorian Gray"){
      document.getElementById("gutenberg").innerHTML = dorian;
    }
    else if(selection=="War and Peace"){
      document.getElementById("gutenberg").innerHTML = war;
    }
    else if(selection=="Dracula"){
      document.getElementById("gutenberg").innerHTML = dracula;
    }
  }
/* This tells the dictionary when to stop reading a word */
var stopCharacters = [' ', '.', ',']
$(function() {
  $('textarea').on('click', function() {
    var text = $(this).html();
    var start = $(this)[0].selectionStart;
    var end = $(this)[0].selectionEnd;
    while (start > 0) {
      if (stopCharacters.indexOf(text[start]) == -1) {
          --start;
      } else {
          break;
      }                        
    };
    if(start != 0)
    {
      ++start;
    }
    while (end < text.length) {
      if (stopCharacters.indexOf(text[end]) == -1) {
          ++end;
      } else {
          break;
      }
    }
    var currentWord = text.substr(start, end - start);
    dictionaryme(currentWord);
  });
});

//this section makes an API call to my dictionary 
function dictionaryme(currentWord){
  $.get({
    url: '/dictionary',
    data: currentWord, 
    success: function(data){
      if(data[0] == undefined){
        document.getElementById("definition").innerHTML = (currentWord + " -- Selection not found in Merriam-Webster.");
      }
      else if(data[1] == undefined){
        document.getElementById("definition").innerHTML = (currentWord + " -- 1: " + data[0]);
      }
      else{
        document.getElementById("definition").innerHTML = (currentWord + " -- 1: " + data[0] + ". 2: " + data[1]);
      }
    }
  });
}

//this section makes an API call to my wikipedia scraper
function wikime(){
  var selection = document.getElementById("books").value;
  $.get({
    url: '/wikime',
    data: selection, 
    success: function(data){
      if(data == undefined){
        document.getElementById("wikipedia").innerHTML = ("Selection not found on Wikipedia.");
      }
      else{
        document.getElementById("wikipedia").innerHTML = (data);
      }
    }
  });
}

//this section displays teammates' cryptocurrency microservice
function cryptome(){
  if(confirm("Are you sure you want to submit payment for more tutoring credits?")){
    var selection = document.getElementById("buyer").value;
    $.get({
      url: '/crypto',
      data: selection, 
      success: function(data){
        if(data != undefined){
          const dataString = JSON.stringify(data);
          const parsedString = JSON.parse(dataString);
          //display results 
          document.getElementById("startbal").innerHTML = parsedString.jaq_start_bal;
          document.getElementById("endbal").innerHTML = parsedString.jaq_end_bal;
        }
        else{
          console.log(data);
        }
      }
    });
  }
  
}

function eraseText() {
  if(confirm("Are you sure you want to clear text?")){
    document.getElementById("gutenberg").innerHTML = "";
  }
}

function eraseDef() {
  if(confirm("Are you sure you want to clear the definition?")){
    document.getElementById("definition").innerHTML = "Click on a word in the selected text, and the definition will appear here.";
  }
}

function eraseWiki() {
  if(confirm("Are you sure you want to clear the Wikipedia entry?")){
    document.getElementById("wikipedia").innerHTML = "";
  }
}


function tutorial() {
  alert("To get started, choose a text from the dropdown menu below. "+
  "The box will display text. Click 'clear' to delete text, or choose"+
  " another item from the dropdown menu to display another text. "+
  "Click on a word in the text box for its definition. Click 'clear' to "+
  "clear definition. Click 'wikime' to read the wikipedia summary for each "+
  "book. Click anywhere to close this tutorial."
  );
}

</script>

</head>
<body>
<!--THIS SECTION IS FOR THE BACKGROUND IMAGE and HEADER-->
  <main>
    <div class="container py-4" style="background: url(homepageimage.jpg) no-repeat center center fixed; -webkit-background-size: cover; -moz-background-size: cover; -o-background-size: cover; background-size: cover;">
      <header class="pb-3 mb-4 border-bottom">
        <a href="/" class="d-flex align-items-center text-dark text-decoration-none">
          <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="white" class="bi bi-book" viewBox="0 0 16 16">
            <path d="M1 2.828c.885-.37 2.154-.769 3.388-.893 1.33-.134 2.458.063 3.112.752v9.746c-.935-.53-2.12-.603-3.213-.493-1.18.12-2.37.461-3.287.811V2.828zm7.5-.141c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492V2.687zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783z"/>
          </svg>
          <span class="fs-4" id="title">READEFINE</span>
        </a>
      </header>

<!--THIS SECTION IS FOR THE INTRO-->

    <div class="p-5 mb-4 bg-light rounded-3">
      <div class="container-fluid py-5">
        <h1 class="display-5 fw-bold">Welcome to READEFINE</h1>
        <p class="col-md-8 fs-4"><h3>A Resource for Students</h3>
          On this site, you can:<br>
          <ul>
          <li><b>READ: </b>Read the first paragraph from the top 10 books on Project Gutenberg.</li>
          <li><b>DEFINE: </b>Find definitions for any word in the text. </li>
          <li><b>EXPLORE: </b>Read the Wikipedia summaries for each book to see if it's a good fit. </li>
          <li><b>LEARN: </b>Try out our new advanced service. Get expert tutoring online. Pay with Cryptocurrency. </li>
          </ul>
        </p>
        <button class="btn btn-primary btn-lg" type="button" button onclick="tutorial()">Click Here for Tutorial</button>
      </div>
    </div>

    <div class="row align-items-md-stretch">
      <div class="col-md-6">
        <div class="h-100 p-5 text-white bg-dark rounded-3">
          <fieldset>
          <h2>READ</h2>
          <textarea id="gutenberg" name="gutenberg" rows="7" cols="65">
          </textarea>
          <br>  

<!--THIS SECTION IS FOR BOOKS-->

        <label for="books">Choose a book to read the first paragraph:</label>

        <select name="books" id="books" onchange = "fillTextBox()">
        <option style = "display:none"></option>
        <option value="Pride and Prejudice">Pride and Prejudice</option>
        <option value="Alice in Wonderland">Alice in Wonderland</option>
        <option value="Adventures of Sherlock Holmes">Adventures of Sherlock Holmes</option>
        <option value="Frankenstein">Frankenstein</option>
        <option value="Moby Dick">Moby Dick</option>
        <option value="A Tale of Two Cities">A Tale of Two Cities</option>
        <option value="The Picture of Dorian Gray">The Picture of Dorian Gray</option>
        <option value="War and Peace">War and Peace</option>
        <option value="The Great Gatsby">The Great Gatsby</option>
        <option value="Dracula">Dracula</option>

        </select>
        </fieldset>
        <br>
        <button class="btn btn-outline-light" type="button" value="Clear" onclick="javascript:eraseText();">Clear</button>
      </div>
    </div>

<!--THIS SECTION IS FOR DICTIONARY-->

    <div class="col-md-6">
      <div class="h-100 p-5 bg-light border rounded-3">
        <h2>DEFINE</h2>
        <p id="definition">Click on a word in the paragraph, and the definition will appear here.</p>
        <button class="btn btn-outline-secondary" type="button" onclick="javascript:eraseDef();">Clear</button>
      </div>
    </div>

<!--THIS SECTION IS FOR WIKIPEDIA SCRAPER-->

    <div class="p-4 mt-4 mb-4 bg-light rounded-3">
      <div class="container-fluid py-4">
        <h1 class="display-5 fw-bold">EXPLORE</h1>
        <p>After choosing a book from the drop-down menu in READ, click the button below to see the Wikipedia summary.</p>
        <div id = "wikipedia" style="overflow:auto;height:150px;" >
        </div>
        <button class="btn btn-outline-secondary" type="button" onclick="javascript:wikime();">Wiki Me</button>
        <button class="btn btn-outline-secondary" type="button" onclick="javascript:eraseWiki();">Clear</button>
      </div>
    </div>

<!--THIS SECTION IS FOR MY TEAMMATES MICROSERVICE-->

    <div class="p-4 mt-4 mb-4 bg-light rounded-3">
      <div class="container-fluid py-4">
        <h1 class="display-5 fw-bold">LEARN</h1>
          Try out our new advanced feature:<br> 
          <ul>
          <li>Choose your cryptowallet account from the drop-down menu.</li>
          <li>Then, click the button, and confirm that you want to submit payment.</li>
          <li>If the transaction is successful, a receipt will appear.</li>
          <li>The receipt will display your previous learning credit balance and your new learning credit balance.</li>
          <li>The balance can be used to pay for tutoring on reading and writing.</li>
        <!--THIS SECTION DISPLAYS CRYPTOWALLET ADDRESSES PROVIDED BY TEAMMATE-->
        <br>
        <label for="address">Wallet Address:<i class="fas fa-info-circle" title="This is a 20 digit hex number representing your wallet"></i></label><br>
        <select name="address" class="form-control" id="buyer">
					<option selected disabled hidden style='display: none' value=''></option>
					<option value=0x18D89A1F41829aBb070c89AAe91763dB46BCDa0D>0x18D89A1F41829aBb070c89AAe91763dB46BCDa0D</option>
					<option value=0xC53c7A63c134cd7b92d0Ea14Ed5e23f2f0a15C18>0xC53c7A63c134cd7b92d0Ea14Ed5e23f2f0a15C18</option>
					<option value=0xA90c5099abAb61FAD511e45cf0531C0417c48De0>0xA90c5099abAb61FAD511e45cf0531C0417c48De0</option>
					<option value=0xB69298340cBdE5A255f51acDadA0BaBF72d96Db6>0xB69298340cBdE5A255f51acDadA0BaBF72d96Db6</option>
					<option value=0x5BcB57B0f3e310eBB8291fb7E93B778E9b3E15AD>0x5BcB57B0f3e310eBB8291fb7E93B778E9b3E15AD</option>
					<option value=0x9fAe9D4a544d77D972029e14Fad754fED5F86aDF>0x9fAe9D4a544d77D972029e14Fad754fED5F86aDF</option>
					<option value=0xcbeB9eDEEe498bB8fbB4Aae49980A093aB48B762>0xcbeB9eDEEe498bB8fbB4Aae49980A093aB48B762</option>
					<option value=0x8382F90D494B29736d44fb61e23d8D1cEB57f4ed>0x8382F90D494B29736d44fb61e23d8D1cEB57f4ed</option>
					<option value=0xb8d935f277C4BFb032FA1C62fD6dd6dD595Bb72f>0xb8d935f277C4BFb032FA1C62fD6dd6dD595Bb72f</option>
					<option value=0xc6EfbA1f45dD02294e4503F3dEFC6008cd7326dc>0xc6EfbA1f45dD02294e4503F3dEFC6008cd7326dc</option>
				</select><br> 
        <button class="btn btn-outline-secondary" type="button" onclick="javascript:cryptome();">Submit Payment</button>
        <br>
        Your Previous Tutoring Credit Balance is: 
        <p id = "startbal"></p>
        Your New Tutoring Credit Balance is: 
        <p id = "endbal"></p>
      </div>
    </div>

<!--THIS SECTION IS FOR CREDITS-->

    <div class="p-5 mb-4 bg-light rounded-3">
      <div class="container-fluid py-5">
        <h1 class="display-5 fw-bold">Thank You</h1>
        <ul>
          <li>This project was made for CS 361 by Jaquelin Yang.</li>
          <li>Project Gutenberg (gutenberg.org) is the world's largest library of open domain, copyright-free texts.</li>
          <li>Merriam Webster (https://dictionaryapi.com/) is a comprehensive dictionary for writers and wordsmiths.</li>
          <li>Wikipedia (https://www.wikipedia.org/) is a free encyclopedia.</li>
          </ul>
          </p>
            <a href="mailto:yangjaq@oregonstate.edu" target="_blank" button class="btn btn-outline-secondary" type="button">Send Jaquelin a Message</button></a>
          </div>
      </div>
    
    <footer class="pt-3 mt-4 text-muted border-top">
      &copy; 2021
    </footer>
  </div>
</main>
</body>
</html>
